---
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';

interface Props {
	img: ImageMetadata;
}

const { img } = Astro.props;

const href = img.src.split('/').pop()?.split('.')[0]; // for now, after think in a better solution
---

<a href={`/photo/${href}/`}>
	<Picture
		class="photo"
		src={img}
		alt="alt"
		formats={['avif', 'webp']}
		sizes={`(max-width: 360px) 1px, (max-width: 720px) 480px`}
		widths={[1, 480, img.width]}
	/>
</a>

<style>
	.photo {
		width: 100%;
		height: auto;
		display: block;
		border-radius: 8px;

		/* object-fit: cover;
		width: 100%;
		aspect-ratio: 1 / 1; */
	}
</style>
