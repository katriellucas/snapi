---
import App from 'src/layouts/App.astro';
import { gallery } from '../libs/stores';
// import { Picture } from 'astro:assets';
import Thumbnail from '@components/Thumbnail.astro';

export async function getStaticPaths() {
	const { blobs } = await gallery.list();

	return blobs.map(({ key }) => ({ params: { key } }));
}

const { key } = Astro.params;
---

<App title="Photo">
	<a href={key} transition:persist>
		<Thumbnail {key} />
	</a>
</App>
